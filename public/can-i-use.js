!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function d(){return l(" ")}function f(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function g(t,e){e=""+e,t.data!==e&&(t.data=e)}let h;function m(t){h=t}function y(t){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(t)}const $=[],b=[],v=[],_=[],w=Promise.resolve();let x=!1;function j(t){v.push(t)}function k(){const t=new Set;do{for(;$.length;){const t=$.shift();m(t),E(t.$$)}for(;b.length;)b.pop()();for(let e=0;e<v.length;e+=1){const n=v[e];t.has(n)||(n(),t.add(n))}v.length=0}while($.length);for(;_.length;)_.pop()();x=!1}function E(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(j))}const M=new Set;const O="undefined"!=typeof window?window:global;function C(t,e){t.$$.dirty||($.push(t),x||(x=!0,w.then(k)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function L(s,a,i,c,u,l){const d=h;m(s);const f=a.props||{},p=s.$$={fragment:null,ctx:null,props:l,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:null};let g=!1;var y,$;p.ctx=i?i(s,f,(t,e,n=e)=>(p.ctx&&u(p.ctx[t],p.ctx[t]=n)&&(p.bound[t]&&p.bound[t](n),g&&C(s,t)),e)):f,p.update(),g=!0,r(p.before_update),p.fragment=c(p.ctx),a.target&&(a.hydrate?p.fragment.l(function(t){return Array.from(t.childNodes)}(a.target)):p.fragment.c(),a.intro&&((y=s.$$.fragment)&&y.i&&(M.delete(y),y.i($))),function(t,n,s){const{fragment:a,on_mount:i,on_destroy:c,after_update:u}=t.$$;a.m(n,s),j(()=>{const n=i.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(j)}(s,a.target,a.anchor),k()),m(d)}let A;"undefined"!=typeof HTMLElement&&(A=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){var e,n;n=1,(e=this).$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}});const{Object:T}=O;function H(t,e,n){const r=T.create(t);return r.entry=e[n],r}function N(t){var e,n,r,o=Math.round(100*t.entry.usage)/100+"";return{c(){e=u("p"),n=l(o),r=l(" %"),p(e,"class","usage")},m(t,o){i(t,e,o),a(e,n),a(e,r)},p(t,e){t.entries&&o!==(o=Math.round(100*e.entry.usage)/100+"")&&g(n,o)},d(t){t&&c(e)}}}function R(t){var e,n,r,o,s,f,h,m,y=t.entry.name+"",$=t.entry.version+"",b=t.hovering&&N(t);return{c(){e=u("div"),n=u("p"),r=l(y),o=d(),s=l($),h=d(),b&&b.c(),p(n,"class",f=t.hovering?"hovering":""),p(e,"class",m="stat "+t.entry.stat)},m(t,c){i(t,e,c),a(e,n),a(n,r),a(n,o),a(n,s),a(e,h),b&&b.m(e,null)},p(t,o){t.entries&&y!==(y=o.entry.name+"")&&g(r,y),t.entries&&$!==($=o.entry.version+"")&&g(s,$),t.hovering&&f!==(f=o.hovering?"hovering":"")&&p(n,"class",f),o.hovering?b?b.p(t,o):((b=N(o)).c(),b.m(e,null)):b&&(b.d(1),b=null),t.entries&&m!==(m="stat "+o.entry.stat)&&p(e,"class",m)},d(t){t&&c(e),b&&b.d()}}}function S(t){var e,n,r,o,s,f,h=t.hovering&&F(t);return{c(){e=u("div"),n=u("p"),r=l("+"),o=l(t.remaining_count),f=d(),h&&h.c(),p(n,"class",s=t.hovering?"hovering":""),p(e,"class","stat gray")},m(t,s){i(t,e,s),a(e,n),a(n,r),a(n,o),a(e,f),h&&h.m(e,null)},p(t,r){t.remaining_count&&g(o,r.remaining_count),t.hovering&&s!==(s=r.hovering?"hovering":"")&&p(n,"class",s),r.hovering?h?h.p(t,r):((h=F(r)).c(),h.m(e,null)):h&&(h.d(1),h=null)},d(t){t&&c(e),h&&h.d()}}}function F(t){var e,n,r,o=Math.round(100*t.remaining_usage)/100+"";return{c(){e=u("p"),n=l(o),r=l(" %"),p(e,"class","usage")},m(t,o){i(t,e,o),a(e,n),a(e,r)},p(t,e){t.remaining_usage&&o!==(o=Math.round(100*e.remaining_usage)/100+"")&&g(n,o)},d(t){t&&c(e)}}}function q(e){var n,o,s;let l=e.entries,g=[];for(let t=0;t<l.length;t+=1)g[t]=R(H(e,l,t));var h=e.remaining_count&&S(e);return{c(){n=u("div");for(let t=0;t<g.length;t+=1)g[t].c();o=d(),h&&h.c(),this.c=t,p(n,"class","stats"),s=[f(n,"mouseenter",e.mouseenter_handler),f(n,"mouseleave",e.mouseleave_handler)]},m(t,e){i(t,n,e);for(let t=0;t<g.length;t+=1)g[t].m(n,null);a(n,o),h&&h.m(n,null)},p(t,e){if(t.entries||t.hovering){let r;for(l=e.entries,r=0;r<l.length;r+=1){const s=H(e,l,r);g[r]?g[r].p(t,s):(g[r]=R(s),g[r].c(),g[r].m(n,o))}for(;r<g.length;r+=1)g[r].d(1);g.length=l.length}e.remaining_count?h?h.p(t,e):((h=S(e)).c(),h.m(n,null)):h&&(h.d(1),h=null)},i:t,o:t,d(t){t&&c(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(g,t),h&&h.d(),r(s)}}}function z(t,e){return!!t[e]}function B(t,e){return t[e].browser}function J(t,e){return t[e].current_version}function P(t,e){const n=t[e].usage_global;return Object.values(n).reduce((t,e)=>t+e,0)}function D(t){switch(t[0]){case"y":return 2;case"n":return 0;default:return 1}}function G(t,e,n){let{type:r,browsers:o}=e,s=!1,a=[],i=0,c=0;y(async()=>{const t=await fetch("https://raw.githubusercontent.com/Fyrd/caniuse/master/fulldata-json/data-2.0.json"),e=await t.json(),s=e.data,u=e.agents,l=s[r];if(!l)return;const d=l.stats;let f=[];if(f=o&&o.length?JSON.parse(o.replace(/'/g,'"')):Object.keys(u),n("entries",a=[]),f&&f.length)for(const t of f){if(!z(u,t))continue;const e=J(u,t),n=B(u,t),r=P(u,t),o=d[t][e];a.push({name:n,version:e,stat:o,usage:r})}n("entries",a=a.sort((t,e)=>{const n=D(t.stat),r=D(e.stat);return n===r?t.usage<e.usage?1:-1:n<r?1:-1})),n("remaining_count",i=Object.keys(u).length-f.length);const p=Object.keys(u).filter(t=>o.indexOf(t)<0);n("remaining_usage",c=0);for(const t of p)n("remaining_usage",c+=P(u,t))});return t.$set=t=>{"type"in t&&n("type",r=t.type),"browsers"in t&&n("browsers",o=t.browsers)},{type:r,browsers:o,hovering:s,entries:a,remaining_count:i,remaining_usage:c,mouseenter_handler:()=>n("hovering",s=!0),mouseleave_handler:()=>n("hovering",s=!1)}}function I(e){var n,r,o,s,d,f,h,m,y,$,b,v=e.full+e.partial+"";return{c(){n=u("p"),r=u("span"),o=l(e.full),s=l("%"),d=l("\r\n  +\r\n  "),f=u("span"),h=l(e.partial),m=l("%"),y=l("\r\n  = "),$=l(v),b=l("%"),this.c=t,p(r,"class","y"),p(f,"class","p")},m(t,e){i(t,n,e),a(n,r),a(r,o),a(r,s),a(n,d),a(n,f),a(f,h),a(f,m),a(n,y),a(n,$),a(n,b)},p(t,e){t.full&&g(o,e.full),t.partial&&g(h,e.partial),(t.full||t.partial)&&v!==(v=e.full+e.partial+"")&&g($,v)},i:t,o:t,d(t){t&&c(n)}}}function K(t,e,n){let{type:r}=e,o=0,s=0;return y(async()=>{const t=await fetch("https://raw.githubusercontent.com/Fyrd/caniuse/master/fulldata-json/data-2.0.json"),e=(await t.json()).data[r];e&&(n("full",o=e.usage_perc_y),n("partial",s=e.usage_perc_a))}),t.$set=t=>{"type"in t&&n("type",r=t.type)},{type:r,full:o,partial:s}}customElements.define("can-i-use",class extends A{constructor(t){super(),this.shadowRoot.innerHTML="<style>.stats{display:flex}.stat{display:flex;justify-content:center;align-items:center;height:30px;color:white;background-color:#a8bd04;margin:0.25rem;padding:0.25rem 1rem;border-radius:10px}.stat.y{background-color:#39b54a}.stat.n{background-color:#c44230}.stat.gray{background-color:gray}.stat .hovering{color:transparent}.stat .usage{position:absolute;margin:0rem}</style>",L(this,{target:this.shadowRoot},G,q,s,["type","browsers"]),t&&(t.target&&i(t.target,this,t.anchor),t.props&&(this.$set(t.props),k()))}static get observedAttributes(){return["type","browsers"]}get type(){return this.$$.ctx.type}set type(t){this.$set({type:t}),k()}get browsers(){return this.$$.ctx.browsers}set browsers(t){this.$set({browsers:t}),k()}}),customElements.define("can-i-use-total",class extends A{constructor(t){super(),this.shadowRoot.innerHTML="<style>.y{color:#39b54a}.p{color:#a8bd04}</style>",L(this,{target:this.shadowRoot},K,I,s,["type"]),t&&(t.target&&i(t.target,this,t.anchor),t.props&&(this.$set(t.props),k()))}static get observedAttributes(){return["type"]}get type(){return this.$$.ctx.type}set type(t){this.$set({type:t}),k()}})}();
//# sourceMappingURL=can-i-use.js.map
