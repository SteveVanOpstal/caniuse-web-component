!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function f(){return l(" ")}function d(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function h(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function p(t,e){e=""+e,t.data!==e&&(t.data=e)}let g;function m(t){g=t}function y(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const b=[],$=[],v=[],_=[],w=Promise.resolve();let x=!1;function j(t){v.push(t)}function k(){const t=new Set;do{for(;b.length;){const t=b.shift();m(t),E(t.$$)}for(;$.length;)$.pop()();for(let e=0;e<v.length;e+=1){const n=v[e];t.has(n)||(n(),t.add(n))}v.length=0}while(b.length);for(;_.length;)_.pop()();x=!1}function E(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(j))}const M=new Set;const O="undefined"!=typeof window?window:global;function C(t,e){t.$$.dirty||(b.push(t),x||(x=!0,w.then(k)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function L(s,a,i,c,u,l){const f=g;m(s);const d=a.props||{},h=s.$$={fragment:null,ctx:null,props:l,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:null};let p=!1;var y,b;h.ctx=i?i(s,d,(t,e,n=e)=>(h.ctx&&u(h.ctx[t],h.ctx[t]=n)&&(h.bound[t]&&h.bound[t](n),p&&C(s,t)),e)):d,h.update(),p=!0,r(h.before_update),h.fragment=c(h.ctx),a.target&&(a.hydrate?h.fragment.l(function(t){return Array.from(t.childNodes)}(a.target)):h.fragment.c(),a.intro&&((y=s.$$.fragment)&&y.i&&(M.delete(y),y.i(b))),function(t,n,s){const{fragment:a,on_mount:i,on_destroy:c,after_update:u}=t.$$;a.m(n,s),j(()=>{const n=i.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(j)}(s,a.target,a.anchor),k()),m(f)}let A;"undefined"!=typeof HTMLElement&&(A=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){var e,n;n=1,(e=this).$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}});const{Object:T}=O;function H(t,e,n){const r=T.create(t);return r.entry=e[n],r}function N(t){var e,n,r,o=Math.round(100*t.entry.usage)/100+"";return{c(){e=u("p"),n=l(o),r=l("%"),h(e,"class","usage")},m(t,o){i(t,e,o),a(e,n),a(e,r)},p(t,e){t.entries&&o!==(o=Math.round(100*e.entry.usage)/100+"")&&p(n,o)},d(t){t&&c(e)}}}function R(t){var e,n,r,o,s,d,g,m,y=t.entry.name+"",b=t.entry.range+"",$=t.hovering&&N(t);return{c(){e=u("div"),n=u("p"),r=l(y),o=f(),s=l(b),g=f(),$&&$.c(),h(n,"class",d=t.hovering?"hovering":""),h(e,"class",m="stat "+t.entry.stat)},m(t,c){i(t,e,c),a(e,n),a(n,r),a(n,o),a(n,s),a(e,g),$&&$.m(e,null)},p(t,o){t.entries&&y!==(y=o.entry.name+"")&&p(r,y),t.entries&&b!==(b=o.entry.range+"")&&p(s,b),t.hovering&&d!==(d=o.hovering?"hovering":"")&&h(n,"class",d),o.hovering?$?$.p(t,o):(($=N(o)).c(),$.m(e,null)):$&&($.d(1),$=null),t.entries&&m!==(m="stat "+o.entry.stat)&&h(e,"class",m)},d(t){t&&c(e),$&&$.d()}}}function S(t){var e,n,r,o,s,d,g=t.hovering&&F(t);return{c(){e=u("div"),n=u("p"),r=l("+"),o=l(t.remaining_count),d=f(),g&&g.c(),h(n,"class",s=t.hovering?"hovering":""),h(e,"class","stat gray")},m(t,s){i(t,e,s),a(e,n),a(n,r),a(n,o),a(e,d),g&&g.m(e,null)},p(t,r){t.remaining_count&&p(o,r.remaining_count),t.hovering&&s!==(s=r.hovering?"hovering":"")&&h(n,"class",s),r.hovering?g?g.p(t,r):((g=F(r)).c(),g.m(e,null)):g&&(g.d(1),g=null)},d(t){t&&c(e),g&&g.d()}}}function F(t){var e,n,r,o=Math.round(100*t.remaining_usage)/100+"";return{c(){e=u("p"),n=l(o),r=l("%"),h(e,"class","usage")},m(t,o){i(t,e,o),a(e,n),a(e,r)},p(t,e){t.remaining_usage&&o!==(o=Math.round(100*e.remaining_usage)/100+"")&&p(n,o)},d(t){t&&c(e)}}}function q(e){var n,o,s;let l=e.entries,p=[];for(let t=0;t<l.length;t+=1)p[t]=R(H(e,l,t));var g=e.remaining_count&&S(e);return{c(){n=u("div");for(let t=0;t<p.length;t+=1)p[t].c();o=f(),g&&g.c(),this.c=t,h(n,"class","stats"),s=[d(n,"mouseenter",e.mouseenter_handler),d(n,"mouseleave",e.mouseleave_handler)]},m(t,e){i(t,n,e);for(let t=0;t<p.length;t+=1)p[t].m(n,null);a(n,o),g&&g.m(n,null)},p(t,e){if(t.entries||t.hovering){let r;for(l=e.entries,r=0;r<l.length;r+=1){const s=H(e,l,r);p[r]?p[r].p(t,s):(p[r]=R(s),p[r].c(),p[r].m(n,o))}for(;r<p.length;r+=1)p[r].d(1);p.length=l.length}e.remaining_count?g?g.p(t,e):((g=S(e)).c(),g.m(n,null)):g&&(g.d(1),g=null)},i:t,o:t,d(t){t&&c(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(p,t),g&&g.d(),r(s)}}}function z(t,e){return!!t[e]}function B(t,e){return t[e].browser}function J(t,e){return t[e].current_version}function P(t,e,n){const r=J(t,e),o=I(n[e][r]),s=t[e].version_list;let a=s[s.length-1].version;for(let t=s.length-1;t>=0;t--){const r=s[t];if(I(n[e][r.version])!==o){a=s[t-1].version;break}}return a&&r!==a?`${a}-${r}`:r}function D(t,e,n,r){const o=t[e].usage_global;let s;return n&&r&&(s=I(n[e][r])),Object.entries(o).reduce((t,r)=>{if(!s)return t+r[1];{const o=I(n[e][r[0]]);if(s===o)return t+r[1]}return t},0)}function G(t){switch(t){case"chrome":return["and_chr"];case"firefox":return["and_ff"];case"ie":return["ie_mob"];case"safari":return["ios_saf"];case"opera":return["op_mini","op_mob"];default:return[]}}function I(t){switch(t[0]){case"y":return 2;case"n":return 0;default:return 1}}function K(t,e,n){let{type:r,browsers:o,combine:s=!0}=e,a=!1,i=[],c=0,u=0;function l(t,e,n,r){let o=0;if(s){const r=G(e);for(const e of r){o+=D(t,e,n,J(t,e))}}return o+=D(t,e,n,r)}y(async()=>{const t=await fetch("https://raw.githubusercontent.com/Fyrd/caniuse/master/fulldata-json/data-2.0.json"),e=await t.json(),a=e.data,f=e.agents;n("combine",s="false"!==s);const d=a[r];if(!d)return;const h=d.stats;let p=[];if(o&&o.length)try{p=JSON.parse(o.replace(/'/g,'"'))}catch(t){console.error("incorrect 'browsers' format. Example: browsers=\"['firefox', 'chrome']\".")}else p=Object.keys(f);if(n("entries",i=[]),p&&p.length)for(const t of p){if(!z(f,t))continue;const e=J(f,t),n=P(f,t,h),r=B(f,t),o=l(f,t,h,e),s=h[t][e];i.push({name:r,range:n,stat:s,usage:o})}n("entries",i=i.sort((t,e)=>{const n=I(t.stat),r=I(e.stat);return n===r?t.usage<e.usage?1:-1:n<r?1:-1}));let g=p;if(s)for(const t of p)g=g.concat(G(t));n("remaining_count",c=Object.keys(f).length-g.length);const m=Object.keys(f).filter(t=>g.indexOf(t)<0);n("remaining_usage",u=0);for(const t of m)n("remaining_usage",u+=l(f,t))});return t.$set=t=>{"type"in t&&n("type",r=t.type),"browsers"in t&&n("browsers",o=t.browsers),"combine"in t&&n("combine",s=t.combine)},{type:r,browsers:o,combine:s,hovering:a,entries:i,remaining_count:c,remaining_usage:u,mouseenter_handler:()=>n("hovering",a=!0),mouseleave_handler:()=>n("hovering",a=!1)}}function Q(e){var n,r,o,s,f,d,g,m,y,b,$,v=Math.round(100*(e.full+e.partial))/100+"";return{c(){n=u("p"),r=u("span"),o=l(e.full),s=l("%"),f=l("\r\n  +\r\n  "),d=u("span"),g=l(e.partial),m=l("%"),y=l("\r\n  = "),b=l(v),$=l("%"),this.c=t,h(r,"class","y"),h(d,"class","p")},m(t,e){i(t,n,e),a(n,r),a(r,o),a(r,s),a(n,f),a(n,d),a(d,g),a(d,m),a(n,y),a(n,b),a(n,$)},p(t,e){t.full&&p(o,e.full),t.partial&&p(g,e.partial),(t.full||t.partial)&&v!==(v=Math.round(100*(e.full+e.partial))/100+"")&&p(b,v)},i:t,o:t,d(t){t&&c(n)}}}function U(t,e,n){let{type:r}=e,o=0,s=0;return y(async()=>{const t=await fetch("https://raw.githubusercontent.com/Fyrd/caniuse/master/fulldata-json/data-2.0.json"),e=(await t.json()).data[r];e&&(n("full",o=e.usage_perc_y),n("partial",s=e.usage_perc_a))}),t.$set=t=>{"type"in t&&n("type",r=t.type)},{type:r,full:o,partial:s}}customElements.define("can-i-use",class extends A{constructor(t){super(),this.shadowRoot.innerHTML="<style>.stats{display:flex;flex-wrap:wrap}.stat{display:flex;justify-content:center;align-items:center;color:white;background-color:#a8bd04;line-height:1em;margin:0.25em;padding:0.5em;border-radius:10px;white-space:nowrap;min-width:3em}.stat.y{background-color:#39b54a}.stat.n{background-color:#c44230}.stat.gray{background-color:gray}.stat .hovering{color:transparent;text-shadow:none}.stat .usage{position:absolute;margin:0rem}.stat p{margin:0}</style>",L(this,{target:this.shadowRoot},K,q,s,["type","browsers","combine"]),t&&(t.target&&i(t.target,this,t.anchor),t.props&&(this.$set(t.props),k()))}static get observedAttributes(){return["type","browsers","combine"]}get type(){return this.$$.ctx.type}set type(t){this.$set({type:t}),k()}get browsers(){return this.$$.ctx.browsers}set browsers(t){this.$set({browsers:t}),k()}get combine(){return this.$$.ctx.combine}set combine(t){this.$set({combine:t}),k()}}),customElements.define("can-i-use-total",class extends A{constructor(t){super(),this.shadowRoot.innerHTML="<style>.y{color:#39b54a}.p{color:#a8bd04}</style>",L(this,{target:this.shadowRoot},U,Q,s,["type"]),t&&(t.target&&i(t.target,this,t.anchor),t.props&&(this.$set(t.props),k()))}static get observedAttributes(){return["type"]}get type(){return this.$$.ctx.type}set type(t){this.$set({type:t}),k()}})}();
//# sourceMappingURL=can-i-use.js.map
